import os
from cryptography.hazmat.primitives.ciphers import Cipher, \
algorithms, modes
from cryptography.hazmat.backends import default_backend

backend = default_backend()

def encrypt(text):
	key = os.urandom(len(text))
	iv = os.urandom(int(len(text)/2))
	cipher = Cipher(algorithms.AES(key), modes.CBC(iv), backend=backend)
	encryptor = cipher.encryptor()
	text = text.encode("ascii")
	return encryptor.update(text) + encryptor.finalize()

def decrypt(cipher):
	decryptor = cipher.decryptor()
	text = decryptor.update(cipher) + decryptor.finalize()
	return text.decode("ascii")

